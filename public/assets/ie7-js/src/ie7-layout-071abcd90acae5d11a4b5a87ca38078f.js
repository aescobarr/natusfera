var NUMERIC="[.\\d]";!new function(_){function collapseMargins(element){element!=viewport&&"absolute"!=element.currentStyle.position&&(collapseMargin(element,"marginTop"),collapseMargin(element,"marginBottom"))}function collapseMargin(element,type){if(!element.runtimeStyle[type]){var parentElement=element.parentElement;if(parentElement&&IE7.hasLayout(parentElement)&&!IE7["marginTop"==type?"_getPreviousElementSibling":"_getNextElementSibling"](element))return;var child=cssQuery(">*:"+("marginTop"==type?"first":"last")+"-child",element,!0);child&&"none"==child.currentStyle.styleFloat&&IE7.hasLayout(child)&&(collapseMargin(child,type),margin=_getMargin(element,element.currentStyle[type]),childMargin=_getMargin(child,child.currentStyle[type]),element.runtimeStyle[type]=0>margin||0>childMargin?margin+childMargin:Math.max(childMargin,margin),child.runtimeStyle[type]="0px")}}function _getMargin(element,value){return"auto"==value?0:getPixelValue(element,value)}var layout=IE7.Layout=this;HEADER+="*{boxSizing:content-box}",IE7.hasLayout=5.5>appVersion?function(element){return element.clientWidth}:function(element){return element.currentStyle.hasLayout},layout.boxSizing=function(element){IE7.hasLayout(element)||(element.style.height="0cm","auto"==element.currentStyle.verticalAlign&&(element.runtimeStyle.verticalAlign="top"),collapseMargins(element))};var UNIT=/^[.\d][\w%]*$/,AUTO=/^(auto|0cm)$/,applyWidth,applyHeight;IE7.Layout.borderBox=function(element){applyWidth(element),applyHeight(element)};var fixWidth=function(HEIGHT){function fixWidth(element,value){element.runtimeStyle.fixedWidth||(value||(value=element.currentStyle.width),element.runtimeStyle.fixedWidth=UNIT.test(value)?Math.max(0,getFixedWidth(element,value)):value,setOverrideStyle(element,"width",element.runtimeStyle.fixedWidth))}function layoutWidth(element){if(!isFixed(element))for(var layoutParent=element.offsetParent;layoutParent&&!IE7.hasLayout(layoutParent);)layoutParent=layoutParent.offsetParent;return(layoutParent||viewport).clientWidth}function getPixelWidth(element,value){return PERCENT.test(value)?parseInt(parseFloat(value)/100*layoutWidth(element)):getPixelValue(element,value)}function getBorderWidth(element){return element.offsetWidth-element.clientWidth}function getWidth(element,type){return getPixelWidth(element,element.currentStyle[type+"Left"])+getPixelWidth(element,element.currentStyle[type+"Right"])}function resizeWidth(element){var rect=element.getBoundingClientRect(),width=rect.right-rect.left;element.runtimeStyle.width="none"!=element.currentStyle.minWidth&&width<=getFixedWidth(element,element.currentStyle.minWidth)?element.currentStyle.minWidth:"none"!=element.currentStyle.maxWidth&&width>=getFixedWidth(element,element.currentStyle.maxWidth)?element.currentStyle.maxWidth:element.runtimeStyle.fixedWidth}function fixRight(element){register(fixRight,element,/^(fixed|absolute)$/.test(element.currentStyle.position)&&"auto"!=getDefinedStyle(element,"left")&&"auto"!=getDefinedStyle(element,"right")&&AUTO.test(getDefinedStyle(element,"width")))&&(resizeRight(element),IE7.Layout.boxSizing(element))}function resizeRight(element){var left=getPixelWidth(element,element.runtimeStyle._left||element.currentStyle.left),width=layoutWidth(element)-getPixelWidth(element,element.currentStyle.right)-left-getWidth(element,"margin");parseInt(element.runtimeStyle.width)!=width&&(element.runtimeStyle.width="",(isFixed(element)||HEIGHT||element.offsetWidth<width)&&(quirksMode||(width-=getBorderWidth(element)+getWidth(element,"padding")),0>width&&(width=0),element.runtimeStyle.fixedWidth=width,setOverrideStyle(element,"width",width)))}applyWidth=function(element){PERCENT.test(element.currentStyle.width)||fixWidth(element),collapseMargins(element)};var getFixedWidth=function(element,value){var borderBox="border-box"==element.currentStyle["box-sizing"],adjustment=0;return quirksMode&&!borderBox?adjustment+=getBorderWidth(element)+getWidth(element,"padding"):!quirksMode&&borderBox&&(adjustment-=getBorderWidth(element)+getWidth(element,"padding")),getPixelWidth(element,value)+adjustment};HEADER+="*{minWidth:none;maxWidth:none;min-width:none;max-width:none}",layout.minWidth=function(element){null!=element.currentStyle["min-width"]&&(element.style.minWidth=element.currentStyle["min-width"]),register(arguments.callee,element,"none"!=element.currentStyle.minWidth)&&(layout.boxSizing(element),fixWidth(element),resizeWidth(element))},eval("IE7.Layout.maxWidth="+String(layout.minWidth).replace(/min/g,"max")),IE7.Layout.fixRight=fixRight;var clientWidth=0;addResize(function(){if(viewport){var i,wider=clientWidth<viewport.clientWidth;clientWidth=viewport.clientWidth;var elements=layout.minWidth.elements;for(i in elements){var element=elements[i],fixedWidth=parseInt(element.runtimeStyle.width)==getFixedWidth(element,element.currentStyle.minWidth);wider&&fixedWidth&&(element.runtimeStyle.width=""),wider==fixedWidth&&resizeWidth(element)}var elements=layout.maxWidth.elements;for(i in elements){var element=elements[i],fixedWidth=parseInt(element.runtimeStyle.width)==getFixedWidth(element,element.currentStyle.maxWidth);!wider&&fixedWidth&&(element.runtimeStyle.width=""),wider!=fixedWidth&&resizeWidth(element)}for(i in fixRight.elements)resizeRight(fixRight.elements[i])}}),quirksMode&&IE7.CSS.addRecalc("width",NUMERIC,applyWidth),7>appVersion&&(IE7.CSS.addRecalc("min-width",NUMERIC,layout.minWidth),IE7.CSS.addRecalc("max-width",NUMERIC,layout.maxWidth),IE7.CSS.addRecalc("right",NUMERIC,fixRight))};eval("var fixHeight="+rotate(fixWidth)),fixWidth(),fixHeight(!0)};