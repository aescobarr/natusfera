var TaxonBrowser={ajaxify:function(context){var context=context||$("#taxon_browser");$('a[href^="/taxa/search"]',context).click(TaxonBrowser.handleSearchClicks),$("form.taxon_search_form",context).submit(TaxonBrowser.handleFormSubmits),TaxonBrowser.addTips(),$(".loading:first",context).hide(),$("#taxon_browser #taxon_list").shades("close")},addTips:function(context){var context=context||$("#taxon_browser");$(".taxon_list_taxon > .taxon",context).each(TaxonBrowser.handleTaxonQtip)},handleFormSubmits:function(){return TaxonBrowser.request($(this).attr("action"),$(this).serializeObject()),!1},handleSearchClicks:function(){return TaxonBrowser.request($(this).attr("href")),!1},request:function(href,params){$("#taxon_browser").parents(".dialog:first").scrollTo(0,0),$("#taxon_browser #taxon_list").shades("open",{css:{"background-color":"white"},content:'<center style="margin: 100px;"><span class="loading bigloading status inlineblock">Loading...</span></center>'});var oldReq=$("#taxon_browser").data("lastRequest");oldReq&&oldReq.abort(),params=$.param($.extend({},params,{partial:"browse",authenticity_token:$("meta[name=csrf-token]").attr("content")}));var req=$.get(href,params,function(data){$("#taxon_browser").html(data),TaxonBrowser.ajaxify()});$("#taxon_browser").data("lastRequest",req)},handleTaxonQtip:function(){$(this).qtip($.extend(QTIP_DEFAULTS,{content:{text:this.innerHTML}}))}};