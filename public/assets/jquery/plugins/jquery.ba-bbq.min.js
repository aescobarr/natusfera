/*
 * jQuery BBQ: Back Button & Query Library - v1.2.1 - 2/17/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
!function($,p){function E(F){return"string"==typeof F}function B(G){var F=m.call(arguments,1);return function(){return G.apply(this,F.concat(m.call(arguments)))}}function n(F){return F.replace(/^[^#]*#?(.*)$/,"$1")}function o(F){return F.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function f(H,M,F,I,G){var O,L,K,N,J;return I!==i?(K=F.match(H?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),J=K[3]||"",2===G&&E(I)?L=I.replace(H?w:x,""):(N=l(K[2]),I=E(I)?l[H?D:A](I):I,L=2===G?I:1===G?$.extend({},I,N):$.extend({},N,I),L=a(L),H&&(L=L.replace(h,r))),O=K[1]+(H?"#":L||!K[1]?"?":"")+L+J):O=M(F!==i?F:p[g][k]),O}function z(H,F,G){return F===i||"boolean"==typeof F?(G=F,F=a[H?D:A]()):F=E(F)?F.replace(H?w:x,""):F,l(F,G)}function s(I,G,H,F){return E(H)||"object"==typeof H||(F=H,H=G,G=i),this.each(function(){var L=$(this),J=G||j()[(this.nodeName||"").toLowerCase()]||"",K=J&&L.attr(J)||"";L.attr(J,a[I](K,H,F))})}var i,c,l,v,q,u,j,h,m=Array.prototype.slice,r=decodeURIComponent,a=$.param,b=$.bbq=$.bbq||{},e=$.event.special,d="hashchange",A="querystring",D="fragment",y="elemUrlAttr",g="location",k="href",t="src",x=/^.*\?|#.*$/g,w=/^.*\#/,C={};a[A]=B(f,0,o),a[D]=c=B(f,1,n),c.noEscape=function(G){G=G||"";var F=$.map(G.split(""),encodeURIComponent);h=new RegExp(F.join("|"),"g")},c.noEscape(",/"),$.deparam=l=function(I,F){var H={},G={"true":!0,"false":!1,"null":null};return $.each(I.replace(/\+/g," ").split("&"),function(L,Q){var J,K=Q.split("="),P=r(K[0]),O=H,M=0,R=P.split("]["),N=R.length-1;if(/\[/.test(R[0])&&/\]$/.test(R[N])?(R[N]=R[N].replace(/\]$/,""),R=R.shift().split("[").concat(R),N=R.length-1):N=0,2===K.length)if(J=r(K[1]),F&&(J=J&&!isNaN(J)?+J:"undefined"===J?i:G[J]!==i?G[J]:J),N)for(;N>=M;M++)P=""===R[M]?O.length:R[M],O=O[P]=N>M?O[P]||(R[M+1]&&isNaN(R[M+1])?{}:[]):J;else $.isArray(H[P])?H[P].push(J):H[P]=H[P]!==i?[H[P],J]:J;else P&&(H[P]=F?i:"")}),H},l[A]=B(z,0),l[D]=v=B(z,1),$[y]||($[y]=function(F){return $.extend(C,F)})({a:k,base:k,iframe:t,img:t,input:t,form:"action",link:k,script:t}),j=$[y],$.fn[A]=B(s,A),$.fn[D]=B(s,D),b.pushState=q=function(I,F){E(I)&&/^#/.test(I)&&F===i&&(F=2);var H=I!==i,G=c(p[g][k],H?I:{},H?F:2);p[g][k]=G+(/#/.test(G)?"":"#")},b.getState=u=function(F,G){return F===i||"boolean"==typeof F?v(F):v(G)[F]},b.removeState=function(F){var G={};F!==i&&(G=u(),$.each($.isArray(F)?F:arguments,function(I,H){delete G[H]})),q(G,2)},e[d]=$.extend(e[d],{add:function(F){function G(J){var I=J[D]=c();J.getState=function(K,L){return K===i||"boolean"==typeof K?l(I,K):l(I,L)[K]},H.apply(this,arguments)}var H;return $.isFunction(F)?(H=F,G):(H=F.handler,F.handler=G,void 0)}})}(jQuery,this),/*
 * jQuery hashchange event - v1.2 - 2/11/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
function($,i,b){function a(m){return m=m||i[c][l],m.replace(/^[^#]*#?(.*)$/,"$1")}var j,k=$.event.special,c="location",d="hashchange",l="href",f=$.browser,g=document.documentMode,h=f.msie&&(g===b||8>g),e="on"+d in i&&!h;$[d+"Delay"]=100,k[d]=$.extend(k[d],{setup:function(){return e?!1:($(j.start),void 0)},teardown:function(){return e?!1:($(j.stop),void 0)}}),j=function(){function p(){o=q=function(s){return s},h&&(n=$('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,q=function(){return a(n.document[c][l])},o=function(u,s){if(u!==s){var t=n.document;t.open().close(),t[c].hash="#"+u}},o(a()))}var r,n,o,q,m={};return m.start=function(){if(!r){var t=a();o||p(),function s(){var v=a(),u=q(t);v!==t?(o(t=v,u),$(i).trigger(d)):u!==t&&(i[c][l]=i[c][l].replace(/#.*/,"")+"#"+u),r=setTimeout(s,$[d+"Delay"])}()}},m.stop=function(){n||(r&&clearTimeout(r),r=0)},m}()}(jQuery,this);